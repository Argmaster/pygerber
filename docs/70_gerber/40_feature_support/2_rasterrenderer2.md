# â­ RasterRenderer2 feature support

## Introduction

`RasterRenderer2` is an introduced in PyGerber 2.2.0 raster backend for rendering of
Gerber files. It replaced legacy `Rasterized2DBackend` which now is deprecated along
with `Parser` class. `RasterRenderer2` operates on command buffers generated by
`Parser2`. It is capable of outputting PNG and JPEG images with official API, although
it is possible to acquire raw Pillow image objects and save them in different formats.

| Symbol | Meaning                                    |
| ------ | ------------------------------------------ |
| âœ…     | Feature implemented and usable.            |
| ðŸš§     | Work in progress. Related APIs can change. |
| ðŸš«     | Not planned, unless contributed or needed. |
| âŒ     | Not implemented, but planned.              |
| ðŸ‘½     | Partially implemented.                     |
| ðŸ‘¾     | Bugged.                                    |
| â›”     | Feature doesn't apply.                     |

## Supported Gerber X3 features

### General

-   âœ… LP - Load polarity.
-   âœ… LM - Load mirroring.
-   âœ… LR - Load rotation.
-   âœ… LS - Load scaling.

### D01, D02, D03

-   âœ… D01 - Plot operation, mode
    -   âœ… Line, with:
        -   âœ… circle,
        -   âœ… rectangle,
        -   âœ… obround,
        -   âœ… polygon,
        -   âœ… macro.
    -   âœ… Arc, with:
        -   âœ… circle,
        -   âœ… rectangle,
        -   âœ… obround,
        -   âœ… polygon,
        -   âœ… macro.
    -   âœ… Counter clockwise arc, with:
        -   âœ… circle,
        -   âœ… rectangle,
        -   âœ… obround,
        -   âœ… polygon,
        -   âœ… macro.
-   âœ… D03 - Flash operation, with
    -   âœ… circle,
    -   âœ… rectangle,
    -   âœ… obround,
    -   âœ… polygon,
    -   âœ… macro.

### Regions

-   âœ… Regions, with:
    -   âœ… Line,
    -   âœ… Arc,
    -   âœ… Counter clockwise arc.

### Macros

-   â›” Parameters.
-   ðŸ‘½ Primitives in definition:
    -   âœ… Code 1, Circle
    -   âŒ Code 2, Vector line
    -   âœ… Code 4, Outline
    -   âœ… Code 5, Polygon
    -   âŒ Code 6, Moire
    -   âœ… Code 7, Thermal
    -   âœ… Code 20, Vector line
    -   âœ… Code 21, Center Line
    -   âŒ Code 22, Lower Left Line
-   ðŸ‘½ Primitives in aperture instance:
    -   âœ… Code 1, Circle
    -   âŒ Code 2, Vector line
    -   âœ… Code 4, Outline
    -   âœ… Code 5, Polygon
    -   âŒ Code 6, Moire
    -   âŒ Code 7, Thermal
    -   âœ… Code 20, Vector line
    -   âœ… Code 21, Center Line
    -   âŒ Code 22, Lower Left Line
-   âŒ Rotation around macro origin:
    -   âŒ Code 1, Circle
    -   âŒ Code 2, Vector line
    -   âŒ Code 4, Outline
    -   âŒ Code 5, Polygon
    -   âŒ Code 6, Moire
    -   âŒ Code 7, Thermal
    -   âŒ Code 20, Vector line
    -   âŒ Code 21, Center Line
    -   âŒ Code 22, Lower Left Line
-   â›” Expressions.
    -   â›” Constants.
    -   â›” Variables.
    -   â›” Addition.
    -   â›” Subtraction.
    -   â›” Multiplication.
    -   â›” Division.
    -   â›” Unary + operator.
    -   â›” Negation.
-   â›” Variable definitions.

### Aperture blocks

-   âœ… Nested Line, aperture:
    -   âœ… circle,
    -   âœ… rectangle,
    -   âœ… obround,
    -   âœ… polygon,
    -   âœ… macro.
-   âœ… Nested Arc, aperture:
    -   âœ… circle,
    -   âœ… rectangle,
    -   âœ… obround,
    -   âœ… polygon,
    -   âœ… macro.
-   âœ… Nested Counter clockwise arc, aperture:
    -   âœ… circle,
    -   âœ… rectangle,
    -   âœ… obround,
    -   âœ… polygon,
    -   âœ… macro.
-   âœ… Nested Flash:
    -   âœ… circle,
    -   âœ… rectangle,
    -   âœ… obround,
    -   âœ… polygon,
    -   âœ… macro.
-   âœ… Nested regions.

### Step and repeat

-   âœ… Nested Line, aperture:
    -   âœ… circle,
    -   âœ… rectangle,
    -   âœ… obround,
    -   âœ… polygon,
    -   âœ… macro.
-   âœ… Nested Arc, aperture:
    -   âœ… circle,
    -   âœ… rectangle,
    -   âœ… obround,
    -   âœ… polygon,
    -   âœ… macro.
-   âœ… Nested Counter clockwise arc, aperture:
    -   âœ… circle,
    -   âœ… rectangle,
    -   âœ… obround,
    -   âœ… polygon,
    -   âœ… macro.
-   âœ… Nested Flash:
    -   âœ… circle,
    -   âœ… rectangle,
    -   âœ… obround,
    -   âœ… polygon,
    -   âœ… macro.
-   âœ… Nested regions.
-   âœ… Nested blocks.

## Supported DEPRECATED Gerber features

-   âŒ IR - Sets 'Image rotation' graphics state parameter. (Spec. 8.1.5)
-   âŒ MI - Sets 'Image mirroring' graphics state parameter (Spec. 8.1.7)
-   âŒ OF - Sets 'Image offset' graphics state parameter (Spec. 8.1.8)
-   âŒ SF - Sets 'Scale factor' graphics state parameter (Spec. 8.1.9)
-   âœ… G74 - Sets single quadrant mode. (Spec. 8.1.10)
-   ðŸš« Format Specification (FS) Options. (Spec. 8.2.1)
-   ðŸš« Rectangular aperture hole in standard apertures. (Spec. 8.2.2)
-   ðŸ‘½ Draws and arcs wit rectangular apertures. (Spec. 8.2.3)
-   âŒ Macro Primitive Code 2, Vector Line. (Spec 8.2.4)
-   âŒ Macro Primitive Code 22, Lower Left Line. (Spec 8.2.5)
-   âŒ Macro Primitive Code 6, MoirÃ©. (Spec 8.2.6)
-   âœ… Combining G01/G02/G03/G70/G71 and D01 in a single command. (Spec 8.3.1)
-   âœ… Combining G01/G02/G03/G70/G71 and D02 in a single command. (Spec 8.3.1)
-   âœ… Combining G01/G02/G03/G70/G71 and D03 in a single command. (Spec 8.3.1)
-   â›” Coordinate Data without Operation Code. (Spec 8.3.2)
-   â›” Style Variations in Command Codes. (Spec 8.3.3)
-   âŒ Deprecated usage of SR. (Spec 8.3.4)
-   âŒ Deprecated Attribute Values. (Spec 8.4)

    -   **Important**: _Incremental notation itself is not supported and is not planned
        due to lack of test assets and expected complications during implementation._

> PS. I had great time adding emoji to this table.
